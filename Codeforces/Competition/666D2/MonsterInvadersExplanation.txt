Explanation of Monster Invaders (Round 666 Div 2 Question C)
Link:

A few of my friends have asked me for a solution to this problem, so I thought I might as well post it here since the editorial is not out yet.
Disclaimer: I was not able to solve this question during the contest period, I was able to come up with it and clean up the code a little after the contest was over.
Also I am still fairly new to competetive programming and this is my first public solution, so feel free to leave any feedback!

This is an explanation of my methodology for this question. You can find my submission here:

Methodology (you can skip this if you just want to see the solution): 

So first of all, there are a few things to notice:
* Switching between stages is costly, so we should take out as many enemies as we can before switching.
 * The only times we should switch are therefore:
  1) We have cleared all the enemies in a stage or 2) We have damaged the boss and we are forced to switch.
 * Since we cannot focus on the boss until all the other enemies are dead, and we should not switch unless required to, there are essentially three options upon entering a new stage before switching:
  1) Kill all the non-boss enemies one by one with pistol until they are all dead, then kill the boss with the AWP.
  2) Kill all the non-boss enemies one by one with pistol until they are all dead, then damage the boss once with the pistol.
  3) Kill all the enemies and damage the boss with one shot from the laser gun.
 * Notice that options (2) and (3) leave us with the same outcome (eg. all the non-boss enemies are dead and the boss has 1 health left). We can therefore group these two options together and find their minimum. So the options become:
  1) Kill all non-boss enemies one by one with pistol until they are all dead, then kill the boss with AWP.
  2) Clear smaller enemies with pistol and then damage boss with pistol, or shoot all enemies with laser gun. Whichever costs less.
 * So now we have discussed everything we can do upon first entering the stage. Now notice that these 2 options lead to 2 different outcomes, respectively:
  1) All the enemies in the stage is dead, so the stage is cleared.
  2) There is only the boss left in the stage, and he only has one health. One shot with the pistol will take him out.
 * Given this, we can assign three possible states to each stage. The states are as follows:
  (2): The state has not been touched yet. All the enemies in the stage are still alive.
  (1): All the enemies in the stage have been killed except for the boss, who only has 1 health left.
  (0): All the enemies in the stage have been killed.

* We never need to consider more than 2 consecutive stages at a time.
 * Let's think about all the possible cases we can have starting from the first stage. When we first enter the game, all the stages are at state (2). We start at the first stage. We have 2 options:
  1) Kill everything in the stage (using pistol and AWP) and move on to the next stage.
  2) Clear the non-boss enemies at the stage (using either pistol or laser, whatever costs less), and the move on to the next stage.
 * Notice that if we choose option (1), then we no longer have to care about the first stage anymore, and we are left with essentially the same case that we started with.
   That is, the current state we are on (which is now the 2nd stage) is at state (2), and so is everything after it. So we are left with the same 2 choices above.
 * However, if we choose option (2), things are more complicated as we are now in stage 2, but we still have to worry about the boss at stage 1. At this point we should do what we can at stage 2, and then switch back to stage 1 right after.
  * Why do we have to go back to stage 1 and not go to stage 3? Well, because we would still have to come back to stage 1 eventually anyways, so it is better to do it while we are only 1 stage away from it, rather than several stages away.
 * So our options are:
  1) Kill everything in stage 2 using pistol and AWP, and then go back to stage 1. Then, after killing the boss at stage 1 using pistol, we move to stage 2 and then to stage 3. And we are left with our original case again where all the stages are at state (2) (we don't care about the stages at state (0)).
  2) Clear the non-boss enemies in stage 2. Then go back to stage 1 and kill the boss. Then go back to stage 2 and kill the boss. Then go to stage 3 and we are at our original case again where everything is state 2.

* Now that we have established this, we can think about how we can use dynamic programming to solve this problem. My first thought was that since each

